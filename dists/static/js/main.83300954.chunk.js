(this.webpackJsonplister=this.webpackJsonplister||[]).push([[0],{337:function(e,t,a){e.exports=a(686)},342:function(e,t,a){},686:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a(0),l=a.n(r),c=a(62),s=a.n(c),i=(a(342),a(12)),o=a(8),m=a(20),u=a(21),d=a(22),h=a(23),f=a(6),E=a(687),p=a(688),g=a(689),b=a(690),N=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:""},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signIn(e.state)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.authError;return e.auth.uid?l.a.createElement(o.a,{to:"/"}):l.a.createElement("div",{className:"container col-sm-12 mt-5 col-md-6 offset-md-3  bg-white"},l.a.createElement(E.a,{onSubmit:this.handleSubmit,className:"bg-white col-sm-12  mt-0 mx-0"},l.a.createElement("h5",{className:"text-grey text-center "}," ",l.a.createElement("u",null,"Sign In")),l.a.createElement("div",{className:"input-field col-md-6 offset-md-3"},l.a.createElement(p.a,{htmlFor:"email"},"Email"),l.a.createElement(g.a,{type:"email",id:"email",onChange:this.handleChange,placeholder:"someone@example.com"})),l.a.createElement("div",{className:"input-field col-md-6 offset-md-3"},l.a.createElement(p.a,{htmlFor:"password"},"Password"),l.a.createElement(g.a,{type:"password",id:"password",onChange:this.handleChange,placeholder:"Password"})),l.a.createElement("div",{className:"mt-2 offset-5"},l.a.createElement(b.a,{className:"btn btn-rounded lighten-1  z-depth-0"},"Login"),l.a.createElement("div",{className:"red-text center"},t||""))))}}]),a}(r.Component),v=Object(f.b)((function(e){return{authError:e.auth.authErr,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e((a=t,function(e,t,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(a.email,a.password).then((function(){e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}));var a}}}))(N),O=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.signUp(e.state)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authErr;return t.uid?l.a.createElement(o.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement(E.a,{onSubmit:this.handleSubmit,className:"bg-white"},l.a.createElement("h4",{className:"text-center"},l.a.createElement("u",null,"Sign Up")),l.a.createElement("div",{className:"input-field col-md-6 offset-md-3"},l.a.createElement(p.a,{htmlFor:"email"},"Email"),l.a.createElement(g.a,{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field col-sm-12 col-sm-12 col-md-6 offset-md-3"},l.a.createElement(p.a,{htmlFor:"password"},"Password"),l.a.createElement(g.a,{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field col-md-6 offset-md-3"},l.a.createElement(p.a,{htmlFor:"firstName"},"John"),l.a.createElement(g.a,{type:"text",id:"firstName",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field col-md-6 offset-md-3"},l.a.createElement(p.a,{htmlFor:"lastName"},"Doe"),l.a.createElement(g.a,{type:"text",id:"lastName",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement(b.a,{className:"button offset-5 mt-1"},"SignUp")),l.a.createElement("div",{className:"red-text center"},a?l.a.createElement("p",null,a):null)))}}]),a}(r.Component),y=Object(f.b)((function(e){return{auth:e.firebase.auth,authErr:e.auth.authErr}}),(function(e){return{signUp:function(t){return e(function(e){return function(t,a,n){var r=n.getFirebase,l=n.getFirestore,c=r(),s=l();c.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return s.collection("users").doc(t.user.uid).set({firstName:e.firstName.toString(),lastName:e.lastName.toString(),initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}(t))}}}))(O),S=a(63),j=a.n(S),I=a(691),w=a(692),R=a(693),L=a(694),C=a(695),x=function(e){var t=e.list;return t.isDone?l.a.createElement(I.a,{className:"card bg-success project-summary ",id:"contextMenuId"},l.a.createElement(w.a,{className:"card-body text-light"},l.a.createElement(R.a,{className:"card-title"},t.title),l.a.createElement(L.a,null,"By ",t.authorFirstName," ",t.authorLastName),l.a.createElement(C.a,{className:"text-secondary"},"--",j()(t.createdAt.toDate()).calendar()))):l.a.createElement(I.a,{className:"card bg-info project-summary",id:"contextMenuId"},l.a.createElement(w.a,{className:"card-body text-light"},l.a.createElement(R.a,{className:"card-title"},t.title),l.a.createElement(L.a,null,"By ",t.authorFirstName," ",t.authorLastName),l.a.createElement(C.a,{className:"text-secondary"},"--",j()(t.createdAt.toDate()).calendar())))},D=Object(f.b)((function(e){return{auth:e.firebase.auth}}))((function(e){var t=e.lists,a=e.auth;return l.a.createElement("div",{className:"col"},t&&t.filter((function(e){return e.authorId===a.uid})).map((function(e){return l.a.createElement(i.b,{style:{textDecoration:"none"},to:"/list/"+e.id,key:e.id}," ",l.a.createElement("div",{className:"col-md-8 offset-md-2 mt-2"},l.a.createElement(x,{list:e})))})))})),F=a(26),k=a(25),_=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.lists;return e.auth.uid?l.a.createElement("div",{className:"dashboard container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(D,{lists:t})," "))):l.a.createElement(o.a,{to:"/signin"})}}]),a}(r.Component),U=Object(k.d)(Object(f.b)((function(e){return{lists:e.firestore.ordered.lists,auth:e.firebase.auth}})),Object(F.firestoreConnect)([{collection:"lists",orderBy:["createdAt","desc"]}]))(_),T=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"constainer profileDisplay"},l.a.createElement("center",{className:"container border mt-1 shadow-lg p-3 mb-5 rounded"},l.a.createElement("div",{className:"bgImage"}),l.a.createElement("div",{className:"row bgText"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("img",{src:"/image/avatar.png",alt:"Avatar",className:"rounded-circle ml-auto bg-secondary w-50 "})),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"row mt-2"},l.a.createElement("h1",null,"Profile Info")),l.a.createElement("div",{className:"row profDisp"},l.a.createElement("h3",{className:"col-md-3 col-sm-1"},"First Name:"),l.a.createElement("h3",{className:"col-md-3 col-sm-1 text-secondary"},this.props.profile.firstName)),l.a.createElement("div",{className:"row"},l.a.createElement("h3",{className:"col-md-3 col-sm-1"},"Last Name:"),l.a.createElement("h3",{className:"col-md-3 col-sm-1 text-secondary"},this.props.profile.lastName)),l.a.createElement("div",{className:"row"},l.a.createElement("h3",{className:"col-md-3 col-sm-1"},"Email Id:"),l.a.createElement("h3",{className:"col-md-3 col-sm-1 text-secondary"},this.props.auth.email)),l.a.createElement("div",{className:"row"},l.a.createElement("h3",{className:"col-md-2 col-sm-1"},"Uid :"),l.a.createElement("h3",{className:"col-md-3 col-sm-2 text-secondary"},this.props.auth.uid))))))}}]),a}(r.Component),A=Object(f.b)((function(e){return{profile:e.firebase.profile,auth:e.firebase.auth}}))(T),G=a(125),P=a(696),M=Object(f.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})})).catch((function(t){e({type:"SIGNOUT_ERROR",err:t})}))}))}}}))((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,null,l.a.createElement(i.c,{className:"nav-link",to:"/"},l.a.createElement("span",{className:"fa fa-home fa-lg"})," Home")),l.a.createElement(P.a,null,l.a.createElement(i.c,{className:"nav-link",to:"/create"},l.a.createElement("span",{className:"fa fa-plus-square fa-lg"})," New List")),l.a.createElement(P.a,null,l.a.createElement(i.c,{className:"nav-link",to:"/",onClick:e.signOut},l.a.createElement("span",{className:"fa fa-sign-out fa-lg "})," ","Log Out")),l.a.createElement(P.a,null,l.a.createElement(i.c,{className:"nav-link btn-info text-light text-center  color-white rounded ",to:"/profile"},e.profile.initials)))})),B=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,null,l.a.createElement(i.c,{className:"nav-link",to:"/signup"},l.a.createElement("i",{className:"fa fa-sign-in fa-lg"})," Signup")),l.a.createElement(P.a,null,l.a.createElement(i.c,{className:"nav-link",to:"/signin"},l.a.createElement("i",{className:"fa fa-sign-in fa-lg"})," Login")))},W=a(697),z=a(698),J=a(699),X=a(701),q=a(700),H=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isOpen:!1},n.toggleNav=n.toggleNav.bind(Object(G.a)(n)),n}return Object(u.a)(a,[{key:"toggleNav",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(W.a,{dark:!0,expand:"md"},l.a.createElement("div",{className:"container"},l.a.createElement(z.a,{onClick:this.toggleNav}),l.a.createElement(J.a,{href:"/",className:"mr-auto"}," ",l.a.createElement("img",{src:"/image/logo.png",href:"/",alt:"Lister",style:{height:"50px",width:"90px",transform:"1.2",maxBlockSize:"40px"}})),l.a.createElement(X.a,{navbar:!0,isOpen:this.state.isOpen,className:" "},l.a.createElement(q.a,{navbar:!0,className:"ml-auto"},Object(F.isLoaded)(this.props.auth)&&this.props.auth.uid?l.a.createElement(M,{profile:this.props.profile}):l.a.createElement(B,null))))))}}]),a}(r.Component),K=Object(f.b)((function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}}))(H),Z=a(37),$=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={title:"",message:"",isDone:!1},e.handleChange=function(t){e.setState(Object(n.a)({},t.target.id,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.createList(e.state),e.props.history.push("/")},e}return Object(u.a)(a,[{key:"render",value:function(){return this.props.auth.uid?l.a.createElement("div",{className:"container shadow-lg mb-5 rounded"},l.a.createElement(E.a,{onSubmit:this.handleSubmit,className:"white mt-3"},l.a.createElement("h4",{className:"text-dark text-center"},"New List"),l.a.createElement("div",{className:"input-field col-md-6 offset-md-3"},l.a.createElement(p.a,{htmlFor:"title"},"Title"),l.a.createElement(g.a,{type:"text",id:"title",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field col-md-6 offset-md-3"},l.a.createElement(p.a,{htmlFor:"message"},"Message"),l.a.createElement(g.a,{type:"textarea",id:"message",className:"textarea",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement(b.a,{className:"btn offset-5 mt-2"},"Create List")))):l.a.createElement(o.a,{to:"signin"})}}]),a}(r.Component),Q=Object(f.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createList:function(t){return e(function(e){return function(t,a,n){n.getFirebase;var r=(0,n.getFirestore)(),l=a().firebase.profile,c=a().firebase.auth.uid;r.collection("lists").add(Object(Z.a)({},e,{authorFirstName:l.firstName,authorLastName:l.lastName,authorId:c,createdAt:new Date})).then((function(){t({type:"CREATE_LIST",list:e})})).catch((function(e){t({type:"CREATE_LIST_ERROR",err:e})}))}}(t))}}}))($),V=function(){return l.a.createElement("div",{className:"col-12 align-items-center"},l.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),l.a.createElement("p",null,"Loading . . ."))},Y=Object(k.d)(Object(f.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.lists;return{list:n?n[a]:null,auth:e.firebase.auth,listId:a}}),(function(e){return{delList:function(t){return e(function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("lists").doc(e).delete().then((function(){t({type:"DEL_LIST"})})).catch((function(e){t({type:"DEL_LIST_ERROR",err:e})}))}}(t))},markDone:function(t){return e(function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("lists").doc(e).set({isDone:!0},{merge:!0}).then((function(){t({type:"DONE_LIST"})})).catch((function(e){t({type:"DONE_LIST_ERROR",err:e})}))}}(t))},markUnDone:function(t){return e(function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("lists").doc(e).set({isDone:!1},{merge:!0}).then((function(){t({type:"UNDONE_LIST"})})).catch((function(e){t({type:"UNDONE_LIST_ERROR",err:e})}))}}(t))}}})),Object(F.firestoreConnect)([{collection:"lists"}]))((function(e){var t=e.list;return e.auth.uid?t?t.isDone?l.a.createElement("div",{className:"container"},l.a.createElement(I.a,{className:"w-75 mx-auto bg-success text-light "},l.a.createElement(w.a,{className:"card-body"},l.a.createElement(R.a,{className:"text-center"}," ",l.a.createElement("h4",null,l.a.createElement("b",null,t.title))),l.a.createElement(L.a,null,t.message)),l.a.createElement(w.a,null,l.a.createElement(C.a,null,"Posted by ",t.authorFirstName),l.a.createElement(C.a,null,j()(t.createdAt.toDate()).calendar()))),l.a.createElement("div",{className:"row mt-1 offset-2"},l.a.createElement("div",{className:"btn btn-primary mr-2",onClick:function(t){t.preventDefault(),e.markUnDone(e.listId),e.history.push("/")}},"Mark UnDone"),l.a.createElement("div",{className:" btn btn-danger ml-2",onClick:function(t){t.preventDefault(),e.delList(e.listId),e.history.push("/")}},"Remove"))):l.a.createElement("div",{className:"container mt-3  "},l.a.createElement(I.a,{className:"w-75 mx-auto bg-info text-light "},l.a.createElement(w.a,{className:"card-body"},l.a.createElement(R.a,{className:"text-center"}," ",l.a.createElement("h4",null,l.a.createElement("b",null,t.title))),l.a.createElement(L.a,null,t.message)),l.a.createElement(w.a,null,l.a.createElement(C.a,null,"Posted by ",t.authorFirstName),l.a.createElement(C.a,null,j()(t.createdAt.toDate()).calendar()))),l.a.createElement("div",{className:"row mt-1 offset-2"},l.a.createElement("div",{className:"btn btn-primary mr-2",onClick:function(t){t.preventDefault(),e.markDone(e.listId),e.history.push("/")}},"Mark Done"),l.a.createElement("div",{className:" btn btn-danger ml-2",onClick:function(t){t.preventDefault(),e.delList(e.listId),e.history.push("/")}},"Remove"))):l.a.createElement("div",{className:"text-center"},l.a.createElement(V,null)):l.a.createElement(o.a,{to:"/signin"})}));var ee=function(){return l.a.createElement(i.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(K,null),l.a.createElement(o.d,null,l.a.createElement(o.b,{exact:!0,path:"/",component:U}),l.a.createElement(o.b,{path:"/list/:id",component:Y}),l.a.createElement(o.b,{path:"/signin",component:v}),l.a.createElement(o.b,{path:"/signup",component:y}),l.a.createElement(o.b,{path:"/create",component:Q}),l.a.createElement(o.b,{path:"/profile",component:A}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te={authErr:null},ae={list:[{id:"1",title:"Get Milk",message:"Get 2% milk from market"},{id:"2",title:"Go to Park",message:"Go to park to play with children"},{id:"3",title:"Fruits",message:"Buy Apple and Oranges"}]},ne=a(64),re=Object(k.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log(t.err+"Login error"),Object(Z.a)({},e,{authErr:"Login Failed!"});case"LOGIN_SUCCESS":return console.log("Success"),Object(Z.a)({},e,{authErr:null});case"SIGNOUT_SUCCESS":return console.log("SignOut Success"),e;case"SIGNOUT_ERROR":return console.log("Signout failed!"),Object(Z.a)({},e,{authErr:t.err});case"SIGNUP_SUCCESS":return console.log("SignUp Success"),Object(Z.a)({},e,{authErr:null});case"SIGNUP_ERROR":return console.log("SIgnUp Error"),Object(Z.a)({},e,{authErr:t.err.message});default:return e}},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_LIST":return console.log("created list ",t.list),e;case"CREATE_LIST_ERROR":return console.log(t.err),e;case"DEL_LIST":return console.log("Successfully Deleted!"),alert("Successfully Deleted!"),e;case"DEL_LIST_ERROR":return console.log("Error deleting list :",t.err),e;case"DONE_LIST":return console.log("Marked done"),e;case"DONE_LIST_ERROR":return console.log("MarkING FAILED",t.err),alert("FAILED"),e;case"UNDONE_LIST":return console.log("Marked Undone"),e;case"UNDONE_LIST_ERROR":return console.log("MarkING FAILED",t.err),alert("FAILED"),e;default:return e}},firestore:ne.firestoreReducer,firebase:F.firebaseReducer}),le=a(336),ce=a(49),se=a.n(ce);a(679),a(682);se.a.initializeApp({apiKey:"AIzaSyDxZWADwqMmXAX0FXO55LlM4hF92BnKoUs",authDomain:"lister-49423.firebaseapp.com",databaseURL:"https://lister-49423.firebaseio.com",projectId:"lister-49423",storageBucket:"lister-49423.appspot.com",messagingSenderId:"1069645442610",appId:"1:1069645442610:web:1a343a68a3376c92d4d62b",measurementId:"G-91MTGPLST6"}),se.a.firestore().settings({timestampsInSnapshots:!0});var ie,oe=se.a,me=(a(684),a(685),Object(k.e)(re,Object(k.d)(Object(k.a)(le.a.withExtraArgument({getFirebase:F.getFirebase,getFirestore:ne.getFirestore})),Object(ne.reduxFirestore)(oe,se.a)))),ue=(ie={firebase:se.a,config:oe},Object(n.a)(ie,"config",{userProfile:"users",useFirestoreForProfile:!0,enableRedirectHandling:!1,resetBeforeLogin:!1}),Object(n.a)(ie,"dispatch",me.dispatch),Object(n.a)(ie,"createFirestoreInstance",ne.createFirestoreInstance),ie);function de(e){var t=e.children,a=Object(f.c)((function(e){return e.firebase.auth}));return Object(F.isLoaded)(a)?t:l.a.createElement("div",{className:"text-center"}," ",l.a.createElement(V,null))}s.a.render(l.a.createElement(f.a,{store:me},l.a.createElement(F.ReactReduxFirebaseProvider,ue,l.a.createElement(de,null,l.a.createElement(ee,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[337,1,2]]]);
//# sourceMappingURL=main.83300954.chunk.js.map